<!DOCTYPE html>
<html>
  <head>
    <title>My Blog</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="container py-4">
    <h1 class="mb-4">Blog Posts</h1>
    <a class="btn btn-primary mb-3" href="/new">Create New Post</a>

    <ul class="list-group">
      <% posts.forEach((post, index) => { %>
      <li class="list-group-item">
        <h2><%= post.title %></h2>
        <p><%= post.content %></p>
        <small class="text-muted">
          By <%= post.author %> on <%= post.createdAt.toLocaleString() %>
        </small>
        <div class="mt-2">
          <a class="btn btn-sm btn-secondary" href="/posts/<%= index %>/edit"
            >Edit</a
          >
          <form
            action="/posts/<%= index %>/delete"
            method="POST"
            style="display: inline"
          >
            <button
              class="btn btn-sm btn-danger"
              type="submit"
              onclick="return confirm('Delete this post?')"
            >
              Delete
            </button>
          </form>
        </div>
      </li>
      <% }) %>
    </ul>
  </body>
</html>
